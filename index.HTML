<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>WRW Rattler Certificate</title>

<style>
body {
    background: #111;
    color: white;
    font-family: Arial, sans-serif;
    text-align: center;
    padding: 20px;
}

input, button {
    padding: 12px;
    font-size: 18px;
    margin: 10px;
    border-radius: 6px;
    border: none;
}

button {
    background: #f39c12;
    font-weight: bold;
    cursor: pointer;
}

canvas {
    margin-top: 20px;
    border: 3px solid #f39c12;
    max-width: 100%;
}
</style>
</head>

<body>

<h1>WRW Rattler Run Certificate</h1>

<input type="text" id="nameInput" placeholder="Enter your name">
<br>
<button onclick="generateCert()">Generate Certificate</button>
<button onclick="downloadCert()">Download Certificate</button>

<br>
<canvas id="canvas"></canvas>

<script>
const canvas = document.getElementById("canvas");
const ctx = canvas.getContext("2d");

const certImage = new Image();
certImage.src = "certificate.png";

certImage.onload = () => {
    canvas.width = certImage.width;
    canvas.height = certImage.height;
    ctx.drawImage(certImage, 0, 0);
};

function generateCert() {
    const name = document.getElementById("nameInput").value;

    ctx.drawImage(certImage, 0, 0);

    // Name styling
    ctx.font = "120px Impact";
    ctx.fillStyle = "#000000";
    ctx.textAlign = "center";

    // Position: centred under "AWARDED TO"
    const x = canvas.width / 2;
    const y = canvas.height * 0.62;

    ctx.fillText(name, x, y);
}

function downloadCert() {
    const link = document.createElement("a");
    link.download = "WRW_Rattler_Certificate.png";
    link.href = canvas.toDataURL("image/png");
    link.click();
}
</script>

</body>
</html>
